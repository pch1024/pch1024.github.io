(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{253:function(e,a,t){"use strict";t.r(a);var r=t(0),v=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"js-异步编程机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js-异步编程机制","aria-hidden":"true"}},[e._v("#")]),e._v(" JS-异步编程机制")]),e._v(" "),t("h2",{attrs:{id:"callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#callback","aria-hidden":"true"}},[e._v("#")]),e._v(" callback")]),e._v(" "),t("h2",{attrs:{id:"xhr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xhr","aria-hidden":"true"}},[e._v("#")]),e._v(" xhr")]),e._v(" "),t("h2",{attrs:{id:"fetch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fetch","aria-hidden":"true"}},[e._v("#")]),e._v(" fetch")]),e._v(" "),t("h2",{attrs:{id:"promise-期约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise-期约","aria-hidden":"true"}},[e._v("#")]),e._v(" Promise 期约")]),e._v(" "),t("p",[e._v("Promise 三种状态 "),t("code",[e._v("待定")]),e._v(" "),t("code",[e._v("完成")]),e._v(" "),t("code",[e._v("拒绝")]),e._v(" 的变化 "),t("code",[e._v("待定 => 完成")]),e._v(" "),t("code",[e._v("待定 => 拒绝")]),e._v(" 不可逆转，一旦确定，忽略后续更改和更改后对应的操作。")]),e._v(" "),t("p",[e._v("Promise.then 是一个"),t("code",[e._v("微任务")]),e._v("，可以"),t("code",[e._v("链式执行")]),e._v("，也可以"),t("code",[e._v("多次执行")]),e._v("。")]),e._v(" "),t("p",[e._v("Promise.then 接受两个可选函数参数 "),t("code",[e._v("onResolved")]),e._v(" "),t("code",[e._v("onRejected")]),e._v(", 其他类型参数忽略但向下传递状态返回值。")]),e._v(" "),t("p",[e._v("Promise 的方法 "),t("code",[e._v("resolve")]),e._v(" "),t("code",[e._v("reject")]),e._v(" "),t("code",[e._v("all")]),e._v(" "),t("code",[e._v("race")]),e._v(" "),t("code",[e._v("finally")]),e._v(" "),t("code",[e._v("catch")]),e._v(" 内部实现都用到了 "),t("code",[e._v("then")]),e._v(", 所以这些全部也都是微任务。")]),e._v(" "),t("p",[e._v("Promise 的异步异常("),t("code",[e._v("resolve(throw 0)")]),e._v(")只能使用异步方法("),t("code",[e._v("catch")]),e._v(")捕获，而且拒绝状态必须被捕获。")]),e._v(" "),t("h3",{attrs:{id:"promise-all-和-race-的功能和使用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise-all-和-race-的功能和使用场景","aria-hidden":"true"}},[e._v("#")]),e._v(" Promise all 和 race 的功能和使用场景")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Promise.all(iterable)")]),e._v(" "),t("ol",[t("li",[e._v("它接受一个 iterable 类型作为参数。")]),e._v(" "),t("li",[e._v("参数里面的值可以是 Promise 对象，也可以是其它值，只有 Promise 会等待状态改变。")]),e._v(" "),t("li",[e._v("当所有的子 Promise 都完成，该 Promise 完成，返回值是全部值的数组。")]),e._v(" "),t("li",[e._v("如果有任何一个失败，该 Promise 失败，返回值是第一个失败的子 Promise 的结果。")]),e._v(" "),t("li",[e._v("可用于顺序请求，组合请求")])])]),e._v(" "),t("li",[t("p",[e._v("Promise.race(iterable)")]),e._v(" "),t("ol",[t("li",[e._v("它接受一个 iterable 类型作为参数。")]),e._v(" "),t("li",[e._v("参数里面的值可以是 Promise 对象，也可以是其它值，只有 Promise 会等待状态改变。")]),e._v(" "),t("li",[e._v("方法返回一个 promise，一旦迭代器中的某个 promise 解决或拒绝，返回的 promise 就会解决或拒绝。")]),e._v(" "),t("li",[e._v("可用于设置请求超时时间")])])])]),e._v(" "),t("h2",{attrs:{id:"async-await-异步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#async-await-异步","aria-hidden":"true"}},[e._v("#")]),e._v(" async/await 异步")]),e._v(" "),t("p",[t("code",[e._v("async")]),e._v(" 会将函数包装起来，当函数返回时，会将不是 "),t("code",[e._v("Promise")]),e._v(" 的值包装成成一个新的 "),t("code",[e._v("Promise")]),e._v(" 对象并返回。")]),e._v(" "),t("p",[t("code",[e._v("await")]),e._v(" 只会"),t("code",[e._v("解开")]),e._v(" 完成状态的 "),t("code",[e._v("Promise.resolve()")]),e._v(" 返回值，会将不是 "),t("code",[e._v("Promise")]),e._v(" 的值包装成成一个 "),t("code",[e._v("Promise.resolve()")]),e._v(" 返回值再返回。")]),e._v(" "),t("p",[t("code",[e._v("await")]),e._v(" 一定是"),t("code",[e._v("异步")]),e._v("的，所以会在等待期间将后续代码"),t("code",[e._v("挂起")]),e._v("不执行，等到完成状态，再执行后续代码。")]),e._v(" "),t("h2",{attrs:{id:"settimeout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#settimeout","aria-hidden":"true"}},[e._v("#")]),e._v(" setTimeout")]),e._v(" "),t("h2",{attrs:{id:"setinterval"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setinterval","aria-hidden":"true"}},[e._v("#")]),e._v(" setInterval")]),e._v(" "),t("h2",{attrs:{id:"mutationobserver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mutationobserver","aria-hidden":"true"}},[e._v("#")]),e._v(" MutationObserver")]),e._v(" "),t("h2",{attrs:{id:"setimmediate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setimmediate","aria-hidden":"true"}},[e._v("#")]),e._v(" setImmediate")]),e._v(" "),t("h2",{attrs:{id:"object-observe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#object-observe","aria-hidden":"true"}},[e._v("#")]),e._v(" Object.observe")]),e._v(" "),t("h2",{attrs:{id:"process-nexttick"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#process-nexttick","aria-hidden":"true"}},[e._v("#")]),e._v(" process.nextTick")])])}),[],!1,null,null,null);a.default=v.exports}}]);